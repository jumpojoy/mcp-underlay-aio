classes:
  - system.linux.system.repo.mcp.openstack
  - system.rabbitmq.server.vhost.openstack
  - system.keystone.server.wsgi
  - system.keystone.server.single
  - system.mysql.client.database.keystone
  - system.mysql.client.database.neutron
  - system.keystone.client.service.keystone
  - system.keystone.client.service.neutron

  - system.ironic.common.single
  - system.ironic.keystone.single
  - system.ironic.neutron.single
  - system.ironic.tftpd_hpa.single

  - service.ironic.api.single
  - service.ironic.conductor.single
parameters:
  _param:
    openstack_version: newton
    apt_mk_version: nightly
    mcp_repo_version: 1.1
    openstack_region: RegionOne
    admin_email: root@localhost
    cluster_public_protocol: http
    cluster_public_host: 10.14.0.244
    neutron_public_protocol: http
    neutron_control_dvr: False
    neutron_tenant_network_types: "flat,vxlan"
    neutron_l3_ha: False
    neutron_global_physnet_mtu: 1500
    neutron_external_mtu: 1500
    neutron_gateway_dvr: False
    neutron_gateway_agent_mode: legacy
    neutron_compute_dvr: False
    neutron_compute_agent_mode: legacy
    neutron_compute_external_access: False
    cluster_vip_address: 10.14.0.244
    cluster_local_address: ${_param:single_address}
    mysql_ironic_address: ${_param:cluster_vip_address}
    rabbitmq_address: ${_param:cluster_vip_address}
    rabbitmq_secret_key: workshop
    rabbitmq_admin_password: workshop
    rabbitmq_openstack_password: workshop
    rabbitmq_cold_password: workshop
    keystone_version: ${_param:openstack_version}
    keystone_service_host: ${_param:cluster_vip_address}
    ironic_service_host: ${_param:cluster_vip_address}
    neutron_version: ${_param:openstack_version}
    neutron_service_host: ${_param:cluster_vip_address}
    metadata_password: workshop
    mysql_admin_user: root
    mysql_admin_password: workshop
    mysql_ironic_password: workshop
    mysql_keystone_password: workshop
    mysql_neutron_password: workshop
    keystone_service_token: workshop
    keystone_admin_password: workshop
    keystone_keystone_password: workshop
    keystone_neutron_password: workshop
    keystone_nova_password: workshop
    keystone_ironic_password: workshop
    keystone_neutron_endpoint_type: public
  ironic:
    api:
      address: ${_param:cluster_vip_address}
